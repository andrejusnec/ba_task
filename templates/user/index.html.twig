{% extends 'base.html.twig' %}

{% block title %}Profile{% endblock %}

{% block body %}
    <div class="container">
        <!-- edit form column -->
        <div class="col-lg-12 text-lg-center">
            <h2>Edit Profile</h2>
        </div>
        <div class="col-lg-12 push-lg-4 personal-info">
            {{ form_start(user_form, { 'attr' : { 'class': 'row flex-column', 'id':'add_form_submit' } }) }}
            <div class="form-error">
                {{ form_errors(user_form) }}
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto">
                    {{ form_row(user_form.name) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto">
                    {{ form_row(user_form.email) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto">
                    {{ form_row(user_form.phone) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto">
                    {{ form_row(user_form.oldPassword) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto">
                    {{ form_row(user_form.plainPassword) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin: auto; margin-top: 10px;">
                    {% if user_form.vars.data.imageFilename|default %}
                        <img style="margin-top: 5px" src="{{ user_form.vars.data.imagePath|imagine_filter('squared_thumbnail_small') }}" alt="Contact image" height="100">
                    {% else %}
                        <img src="//placehold.it/150" class="m-x-auto img-fluid img-circle" alt="avatar"/>
                    {% endif %}
                    <h6 class="m-t-2">Upload</h6>
                    <label class="custom-file">
                        {{ form_row(user_form.imageFile) }}
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6" style="margin:auto; margin-top: 10px;">
                    <button class="btn btn-primary" type="submit" form="add_form_submit">Update</button>
                </div>
            </div>
            {{ form_end(user_form) }}
        </div>
    </div>
    <hr/>
{% endblock %}
